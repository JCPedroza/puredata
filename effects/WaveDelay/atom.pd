#N canvas 81 82 450 300 10;
#X obj 169 262 throw~ dly_out;
#X obj 246 44 r~ adc;
#X obj 341 93 r feedback;
#X obj 321 118 *~ 0;
#N canvas 282 401 560 324 time 0;
#X obj 221 13 r delay_time;
#X obj 319 11 r delay_offset;
#X obj 420 252 outlet time;
#X obj 422 10 inlet atom_number;
#X obj 78 8 r pendulum_time;
#X obj 360 36 *;
#X obj 209 43 t b f;
#X obj 349 60 t b f;
#X text 36 167 Normal Time -> delay_time + (offset*arom_number);
#X text 35 151 Pendulum Time -> T = 2pi*sqrt(L/g);
#X floatatom 322 240 5 0 0 0 - - -;
#X obj 79 112 expr $f3 \; if ($f1 == 0 \, $f2+$f3 \, $f2+6.2832*sqrt(abs($f3/9.8)))
\;;
#X connect 0 0 6 0;
#X connect 1 0 5 0;
#X connect 3 0 5 1;
#X connect 4 0 11 0;
#X connect 5 0 7 0;
#X connect 6 0 11 0;
#X connect 6 1 11 1;
#X connect 7 0 11 0;
#X connect 7 1 11 2;
#X connect 11 1 2 0;
#X connect 11 1 10 0;
#X restore 102 93 pd time;
#X obj 127 14 loadbang;
#X text 77 64 atom #;
#N canvas 709 361 450 300 amp 0;
#X obj 68 20 inlet~ audio_in;
#X obj 157 228 outlet~ audio_out;
#X obj 222 23 inlet atom_number;
#N canvas 306 454 450 300 partial_amp 0;
#X obj 161 31 inlet atom_number;
#X obj 34 26 r partial_amp;
#X obj 123 234 outlet;
#X obj 161 108 expr 1/($f1+1);
#X obj 127 162 switch;
#X obj 35 65 + 1;
#X obj 99 71 t b b;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 3 0 4 2;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X restore 222 72 pd partial_amp;
#X obj 135 164 *~ 1;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 4 0 1 0;
#X restore 189 224 pd amp;
#X obj 26 231 outlet time;
#X text 32 258 for debug;
#X floatatom 124 65 5 0 0 0 - - -;
#X obj 127 38 f \$1;
#X obj 246 73 delwrite~ \$0-dly 5000;
#X obj 209 151 delread~ \$0-dly 1000;
#X connect 1 0 12 0;
#X connect 2 0 3 1;
#X connect 3 0 12 0;
#X connect 4 0 8 0;
#X connect 4 0 13 0;
#X connect 5 0 11 0;
#X connect 7 0 0 0;
#X connect 11 0 10 0;
#X connect 11 0 7 1;
#X connect 11 0 4 0;
#X connect 13 0 3 0;
#X connect 13 0 7 0;
