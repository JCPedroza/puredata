#N canvas 551 32 550 300 10;
#N canvas 227 402 450 300 WaveDelay 0;
#X obj 170 23 adc~;
#X obj 156 270 dac~;
#X obj 170 45 s~ adc;
#X obj 159 236 catch~ dly_out;
#N canvas 568 336 450 300 atom0 0;
#X obj 159 252 throw~ dly_out;
#X obj 236 34 r~ adc;
#X obj 331 83 r feedback;
#X obj 311 108 *~ 0;
#N canvas 148 354 560 324 time 1;
#X obj 76 39 r delay_time;
#X obj 175 39 r delay_offset;
#X obj 154 201 outlet time;
#X obj 154 138 expr $f1+($f2*$f3);
#X obj 173 81 t b f;
#X obj 278 38 inlet atom_number;
#X text 425 101 T = 2pi*sqrt(L/g);
#X obj 406 124 expr 6.2832*sqrt($f1/9.8);
#X floatatom 423 163 5 0 0 0 - - -;
#X obj 410 38 r pendulum_time;
#X obj 223 234 expr $f4 \; if ($f1 == 0 \, $f2+($f3*$f4) \, $f2) \;
;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 3 2;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X restore 75 82 pd time;
#X obj 118 23 loadbang;
#X text 72 45 atom #;
#X floatatom 51 152 5 0 0 0 - - -;
#N canvas 709 361 450 300 amp 0;
#X obj 68 20 inlet~ audio_in;
#X obj 157 228 outlet~ audio_out;
#X obj 222 23 inlet atom_number;
#N canvas 306 454 450 300 partial_amp 0;
#X obj 161 31 inlet atom_number;
#X obj 34 26 r partial_amp;
#X obj 123 234 outlet;
#X obj 161 108 expr 1/($f1+1);
#X obj 127 162 switch;
#X obj 35 65 + 1;
#X obj 99 71 t b b;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 3 0 4 2;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X restore 222 72 pd partial_amp;
#X obj 135 164 *~ 1;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 4 0 1 0;
#X restore 179 214 pd amp;
#X msg 114 46 5;
#X obj 236 63 delwrite~ the_delay5 5000;
#X obj 200 153 delread~ the_delay5 1000;
#X connect 1 0 10 0;
#X connect 2 0 3 1;
#X connect 3 0 10 0;
#X connect 4 0 7 0;
#X connect 4 0 11 0;
#X connect 5 0 9 0;
#X connect 8 0 0 0;
#X connect 9 0 4 0;
#X connect 9 0 8 1;
#X connect 11 0 3 0;
#X connect 11 0 8 0;
#X restore 281 125 pd atom0;
#N canvas 196 46 450 300 atom0 1;
#X obj 159 252 throw~ dly_out;
#X obj 236 34 r~ adc;
#X obj 331 83 r feedback;
#X obj 311 108 *~ 0;
#N canvas 299 276 560 324 time 0;
#X obj 132 35 r delay_time;
#X obj 231 35 r delay_offset;
#X obj 209 207 outlet time;
#X obj 210 134 expr $f1+($f2*$f3);
#X obj 229 77 t b f;
#X obj 334 34 inlet atom_number;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 3 2;
#X restore 75 82 pd time;
#X obj 236 63 delwrite~ the_delay0 5000;
#X obj 200 153 delread~ the_delay0 1000;
#X obj 118 23 loadbang;
#X text 72 45 atom #;
#X floatatom 51 152 5 0 0 0 - - -;
#N canvas 759 359 450 300 amp 0;
#X obj 68 20 inlet~ audio_in;
#X obj 157 228 outlet~ audio_out;
#X obj 222 23 inlet atom_number;
#N canvas 306 454 450 300 partial_amp 0;
#X obj 161 31 inlet atom_number;
#X obj 34 26 r partial_amp;
#X obj 123 234 outlet;
#X obj 161 108 expr 1/($f1+1);
#X obj 127 162 switch;
#X obj 35 65 + 1;
#X obj 99 71 t b b;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 3 0 4 2;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X restore 222 72 pd partial_amp;
#X obj 135 164 *~ 1;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 4 0 1 0;
#X restore 179 214 pd amp;
#X msg 114 46 0;
#X connect 1 0 5 0;
#X connect 2 0 3 1;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 4 0 9 0;
#X connect 6 0 3 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 10 0 0 0;
#X connect 11 0 4 0;
#X connect 11 0 10 1;
#X restore 38 81 pd atom0;
#N canvas 208 22 450 300 atom0 0;
#X obj 159 252 throw~ dly_out;
#X obj 236 34 r~ adc;
#X obj 331 83 r feedback;
#X obj 311 108 *~ 0;
#N canvas 299 276 560 324 time 0;
#X obj 132 35 r delay_time;
#X obj 231 35 r delay_offset;
#X obj 210 197 outlet time;
#X obj 210 134 expr $f1+($f2*$f3);
#X obj 229 77 t b f;
#X obj 334 34 inlet atom_number;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 3 2;
#X restore 75 82 pd time;
#X obj 118 23 loadbang;
#X text 72 45 atom #;
#X floatatom 51 152 5 0 0 0 - - -;
#N canvas 709 361 450 300 amp 0;
#X obj 68 20 inlet~ audio_in;
#X obj 157 228 outlet~ audio_out;
#X obj 222 23 inlet atom_number;
#N canvas 306 454 450 300 partial_amp 0;
#X obj 161 31 inlet atom_number;
#X obj 34 26 r partial_amp;
#X obj 123 234 outlet;
#X obj 161 108 expr 1/($f1+1);
#X obj 127 162 switch;
#X obj 35 65 + 1;
#X obj 99 71 t b b;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 3 0 4 2;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X restore 222 72 pd partial_amp;
#X obj 135 164 *~ 1;
#X floatatom 222 129 5 0 0 0 - - -;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X restore 179 214 pd amp;
#X msg 114 46 1;
#X obj 236 63 delwrite~ the_delay1 5000;
#X obj 200 153 delread~ the_delay1 1000;
#X connect 1 0 10 0;
#X connect 2 0 3 1;
#X connect 3 0 10 0;
#X connect 4 0 7 0;
#X connect 4 0 11 0;
#X connect 5 0 9 0;
#X connect 8 0 0 0;
#X connect 9 0 4 0;
#X connect 9 0 8 1;
#X connect 11 0 3 0;
#X connect 11 0 8 0;
#X restore 147 82 pd atom0;
#N canvas 208 22 450 300 atom0 0;
#X obj 159 252 throw~ dly_out;
#X obj 236 34 r~ adc;
#X obj 331 83 r feedback;
#X obj 311 108 *~ 0;
#N canvas 299 276 560 324 time 0;
#X obj 132 35 r delay_time;
#X obj 231 35 r delay_offset;
#X obj 210 197 outlet time;
#X obj 210 134 expr $f1+($f2*$f3);
#X obj 229 77 t b f;
#X obj 334 34 inlet atom_number;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 3 2;
#X restore 75 82 pd time;
#X obj 118 23 loadbang;
#X text 72 45 atom #;
#X floatatom 51 152 5 0 0 0 - - -;
#N canvas 709 361 450 300 amp 0;
#X obj 68 20 inlet~ audio_in;
#X obj 157 228 outlet~ audio_out;
#X obj 222 23 inlet atom_number;
#N canvas 306 454 450 300 partial_amp 0;
#X obj 161 31 inlet atom_number;
#X obj 34 26 r partial_amp;
#X obj 123 234 outlet;
#X obj 161 108 expr 1/($f1+1);
#X obj 127 162 switch;
#X obj 35 65 + 1;
#X obj 99 71 t b b;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 3 0 4 2;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X restore 222 72 pd partial_amp;
#X obj 135 164 *~ 1;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 4 0 1 0;
#X restore 179 214 pd amp;
#X obj 236 63 delwrite~ the_delay2 5000;
#X obj 200 153 delread~ the_delay2 1000;
#X msg 114 46 2;
#X connect 1 0 9 0;
#X connect 2 0 3 1;
#X connect 3 0 9 0;
#X connect 4 0 7 0;
#X connect 4 0 10 0;
#X connect 5 0 11 0;
#X connect 8 0 0 0;
#X connect 10 0 3 0;
#X connect 10 0 8 0;
#X connect 11 0 4 0;
#X connect 11 0 8 1;
#X restore 207 85 pd atom0;
#N canvas 208 22 450 300 atom0 0;
#X obj 159 252 throw~ dly_out;
#X obj 236 34 r~ adc;
#X obj 331 83 r feedback;
#X obj 311 108 *~ 0;
#N canvas 299 276 560 324 time 0;
#X obj 132 35 r delay_time;
#X obj 231 35 r delay_offset;
#X obj 210 197 outlet time;
#X obj 210 134 expr $f1+($f2*$f3);
#X obj 229 77 t b f;
#X obj 334 34 inlet atom_number;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 3 2;
#X restore 75 82 pd time;
#X obj 118 23 loadbang;
#X text 72 45 atom #;
#X floatatom 51 152 5 0 0 0 - - -;
#N canvas 759 359 450 300 amp 0;
#X obj 68 20 inlet~ audio_in;
#X obj 157 228 outlet~ audio_out;
#X obj 222 23 inlet atom_number;
#N canvas 306 454 450 300 partial_amp 0;
#X obj 161 31 inlet atom_number;
#X obj 34 26 r partial_amp;
#X obj 123 234 outlet;
#X obj 161 108 expr 1/($f1+1);
#X obj 127 162 switch;
#X obj 35 65 + 1;
#X obj 99 71 t b b;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 3 0 4 2;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X restore 222 72 pd partial_amp;
#X obj 135 164 *~ 1;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 4 0 1 0;
#X restore 179 214 pd amp;
#X msg 114 46 3;
#X obj 236 63 delwrite~ the_delay3 5000;
#X obj 200 153 delread~ the_delay3 1000;
#X connect 1 0 10 0;
#X connect 2 0 3 1;
#X connect 3 0 10 0;
#X connect 4 0 7 0;
#X connect 4 0 11 0;
#X connect 5 0 9 0;
#X connect 8 0 0 0;
#X connect 9 0 4 0;
#X connect 9 0 8 1;
#X connect 11 0 3 0;
#X connect 11 0 8 0;
#X restore 88 115 pd atom0;
#N canvas 208 22 450 300 atom0 0;
#X obj 159 252 throw~ dly_out;
#X obj 236 34 r~ adc;
#X obj 331 83 r feedback;
#X obj 311 108 *~ 0;
#N canvas 299 276 560 324 time 0;
#X obj 132 35 r delay_time;
#X obj 231 35 r delay_offset;
#X obj 210 197 outlet time;
#X obj 210 134 expr $f1+($f2*$f3);
#X obj 229 77 t b f;
#X obj 334 34 inlet atom_number;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 3 2;
#X restore 75 82 pd time;
#X obj 118 23 loadbang;
#X text 72 45 atom #;
#X floatatom 51 152 5 0 0 0 - - -;
#N canvas 709 361 450 300 amp 0;
#X obj 68 20 inlet~ audio_in;
#X obj 157 228 outlet~ audio_out;
#X obj 222 23 inlet atom_number;
#N canvas 306 454 450 300 partial_amp 0;
#X obj 161 31 inlet atom_number;
#X obj 34 26 r partial_amp;
#X obj 123 234 outlet;
#X obj 161 108 expr 1/($f1+1);
#X obj 127 162 switch;
#X obj 35 65 + 1;
#X obj 99 71 t b b;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 3 0 4 2;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X restore 222 72 pd partial_amp;
#X obj 135 164 *~ 1;
#X floatatom 222 129 5 0 0 0 - - -;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X restore 179 214 pd amp;
#X msg 114 46 4;
#X obj 236 63 delwrite~ the_delay4 5000;
#X obj 200 153 delread~ the_delay4 1000;
#X connect 1 0 10 0;
#X connect 2 0 3 1;
#X connect 3 0 10 0;
#X connect 4 0 7 0;
#X connect 4 0 11 0;
#X connect 5 0 9 0;
#X connect 8 0 0 0;
#X connect 9 0 4 0;
#X connect 9 0 8 1;
#X connect 11 0 3 0;
#X connect 11 0 8 0;
#X restore 151 117 pd atom0;
#X connect 0 0 2 0;
#X connect 3 0 1 0;
#X connect 3 0 1 1;
#X restore 6 276 pd WaveDelay;
#N canvas 376 313 450 300 cpu_usage 0;
#X obj 149 161 cputime;
#X obj 149 21 loadbang;
#X obj 149 105 metro 1000;
#X msg 149 49 1;
#X floatatom 149 77 0 0 0 0 - - -;
#X obj 149 133 t b b;
#X obj 149 221 * 0.1;
#X obj 149 190 int;
#X text 194 77 <-- on/off;
#X text 82 277 CPU load in percent;
#X obj 148 248 outlet;
#X connect 0 0 7 0;
#X connect 1 0 3 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 5 1 0 1;
#X connect 6 0 10 0;
#X connect 7 0 6 0;
#X restore -24 7 pd cpu_usage;
#X floatatom -24 31 5 0 0 0 - - -;
#X obj -13 102 s delay_time;
#X floatatom -13 79 5 0 0 0 - - -;
#X obj 173 120 s feedback;
#X obj 172 70 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X floatatom 172 96 5 0 1 0 - - -;
#X floatatom 71 78 5 0 0 0 - - -;
#X obj 71 102 s delay_offset;
#X obj -15 134 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj -14 156 s partial_amp;
#X text 149 152 BUGS AND TODOS:;
#X text 137 171 - Implementn pendulum period mode;
#X text 136 187 (offset = pendulum length difference? something non-linear)
;
#X text 136 214 - Analog mode (delay time change = pitch change);
#X obj -14 186 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj -13 209 s pendulum_time;
#X connect 1 0 2 0;
#X connect 4 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 16 0 17 0;
